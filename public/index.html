<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>SiteMarks Demo - I am a very long row for testing long rows, with.an.even.longer.row.without.any.spaces</title>
</head>
<body>

	<script>
		(function sitemarksWrapper () {

			appendFile('css/sitemarks.css', 'sitemarks-styles', 'css');
			appendFile('scripts/sitemarks.storage.js', 'sitemarks-storage', 'js');
			appendFile('scripts/sitemarks.oink.js', 'sitemarks-oink', 'js');
			appendFile('scripts/sitemarks.app.js', 'sitemarks-app', 'js');

			// appendFile('build/sitemarks.merged.js', 'sitemarks-app-build', 'js');

			function appendFile (src, id, type) {
				var s,
					create = {
						js: function () {
							var s = document.createElement('script');
							//s.async = true;
							s.src = src;
							s.id = id;
							return s;
						},
						css: function () {
							var ss = document.createElement('link');
							ss.type = 'text/css';
							ss.rel = 'stylesheet';
							ss.href = src;
							return ss;					
						}
					},
					existing = document.getElementById(id);
				if (existing) {
					return;
				}
				if (!create.hasOwnProperty(type)) {
					throw new Error('Unsupported type: ' + type);
				}
				var el = create[type]();
				document.getElementsByTagName('head')[0].appendChild(el);
			}
		}());
	</script>
</body>
</html>