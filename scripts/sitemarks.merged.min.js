window.sitemarks={},window.sitemarks.storage=function(){var e="sitemarks-lagr.se",t=function(){var t=JSON.parse(localStorage.getItem(e));return t||{items:[]}},r=function(t){localStorage.setItem(e,JSON.stringify(t))},a=function(e,t){if(!e.hasOwnProperty("items"))throw new Error("data is missing item property.");var r=!1;e.items.forEach(function(e){e.url===t.url&&(r=!0)}),r||e.items.push(t)},o=function(e,t){var r=[];e.items.forEach(function(e){e.url!==t.url&&r.push(e)}),e.items=r};return{ns:e,getFromStorage:t,addToStorage:r,addItemToData:a,removeItemFromData:o}}(window),function(e,t){function r(e){if(!e.length)return t;var r,a,o,i,d,l,c,s,p;return r=document.createElement("ul"),a=r.style,a.margin="0",a.padding="0",a.listStyleType="none",r.id=m,e.forEach(function(e){o=document.createElement("li"),i=o.style,i.overflow="hidden",i.lineHeight="18px",i.margin="0",i.padding="3px 0",i.borderBottom="1px solid rgba(255,255,255,0.3)",i.textAlign="left",s=document.createElement("a"),s.href=e.url,s.onclick=n,p=s.style,p.color="#fff",p.borderRadius="2px",p.fontSize="10px",p.padding="2px 3px",p.backgroundColor="rgb(202, 60, 60)",p.textDecoration="none",rText=document.createTextNode("x"),s.appendChild(rText),l=document.createElement("a"),c=l.style,l.href=e.url,c.color="#ccc",c.textDecoration="none",d=document.createTextNode(e.title),l.appendChild(d),o.appendChild(s),o.appendChild(document.createTextNode(" ")),o.appendChild(l),r.appendChild(o)}),r}function a(){var e=f.style;e.position="fixed",e.top=0,e.left="10px",e.width="180px",e.zIndex="9999",e.backgroundColor="rgba(0,0,0,0.7)",e.padding="12px 12px 16px 12px",e.textAlign="left",e.fontSize="12px",e.fontFamily="Verdana, Arial, sans-serif",e.color="#ccc",e.borderBottomLeftRadius="2px",e.borderBottomRightRadius="2px",e.boxShadow="0 0 10px rgba(0,0,0,0.7)",e.textShadow="1px 1px 1px rgba(0,0,0,0.5)";var t=document.createElement("div"),r=t.style,a=document.createTextNode(u);r.fontWeight="normal",r.color="#ccc",r.fontSize="16px",t.appendChild(a);var n=document.createElement("a");las=n.style,las.fontSize="12px",las.color="#ccc",las.textDecoration="none",n.href="http://lagr.se",lagrText=document.createTextNode(" from lagr.se"),n.appendChild(lagrText),t.appendChild(n);var d=document.createElement("a");d.onclick=i;var l=d.style;l.float="right",l.cursor="pointer";var c=document.createTextNode("X");d.appendChild(c),t.appendChild(d),f.appendChild(t);var s=document.createElement("button"),p=s.style,m=document.createTextNode("Add this page");p.backgroundColor="#0078e7",p.borderRadius="2px",p.width="100%",p.textAlign="center",p.display="inline-block",p.zoom=1,p.lineHeight="normal",p.whiteSpace="nowrap",p.verticalAlign="baseline",p.textAlign="center",p.cursor="pointer",p.fontFamily="Verdana, Arial, sans-serif",p.fontSize="14px",p.lineHeight="28px",p.color="#fff",p.border=0,p.margin="12px 0",p.textShadow="1px 1px 1px rgba(0,0,0,0.5)",s.onclick=o,s.appendChild(m),f.appendChild(s)}function o(t){t.preventDefault();var r;r={url:e.location.href,title:c()},l(r),d()}function n(e){e.preventDefault();var t;t=sitemarks.storage.getFromStorage(),sitemarks.storage.removeItemFromData(t,{url:e.target.href}),sitemarks.storage.addToStorage(t),d()}function i(e){e.preventDefault(),f=document.getElementById(g),f.style.display="none"}function d(){var e,t;s(m),e=sitemarks.storage.getFromStorage(),t=r(e.items),t&&f.appendChild(t)}function l(e){var t=sitemarks.storage.getFromStorage();sitemarks.storage.addItemToData(t,e),sitemarks.storage.addToStorage(t)}function c(){var e=document.getElementsByTagName("title")[0];return e.text||"No title"}function s(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}var p,m="SiteMarks",g=m+"container",u="SiteMarks";if(p=document.getElementById(g))return p.style.display="none"===p.style.display?"block":"none",void 0;var f=document.createElement("div");f.id=g,sitemarks=e.sitemarks||{},a();var x,h=sitemarks.storage.getFromStorage();h.items.length&&(x=r(h.items),f.appendChild(x));var v=document.getElementsByTagName("body")[0];v.appendChild(f)}(window);